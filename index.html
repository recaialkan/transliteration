<html>
<head>
	<title>Harf Dönüşüm</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.12.1.min.js"></script>
	<script type="text/javascript">
    var DİZİ = [
['YA', 'A', 'YE', 'E', 'YU', 'U', 'YO', 'O', 'İ', 'Y', 'NÇ', 'NC', 'NG', 'NY', 'NT', 'ND', 'N', 'R', 'LT', 'LD', 'L', 'K', 'Q', 'K', 'C', 'J', 'D', 'I', 'TS', 'T', 'PS', 'S', 'M', 'B', 'Ü', 'Ə', 'ŞÇ', 'Ş', 'Ğ', 'G', 'V', 'Ç', 'Z', 'Ö', 'H', 'H', 'P', 'X', 'F', 'Θ', 'W', 'Δ', 'T', 'Δ', 'S', 'Δ', 'Ê', 'Ô', "'", '', '', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9'],
['ya', 'a', 'ye', 'e', 'yu', 'u', 'yo', 'o', 'i', 'y', 'nç', 'nc', 'ng', 'ny', 'nt', 'nd', 'n', 'r', 'lt', 'ld', 'l', 'k', 'q', 'k', 'c', 'j', 'd', 'ı', 'ts', 't', 'ps', 's', 'm', 'b', 'ü', 'Ə', 'şç', 'ş', 'ğ', 'g', 'v', 'ç', 'z', 'ö', 'h', 'h', 'p', 'x', 'f', 'θ', 'w', 'δ', 't', 'δ', 's', 'δ', 'ê', 'Ô', "'", '', '', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9'],
['ΙΑ', 'Α', 'ΙΕ', 'Ε', 'ΙΟΥ', 'ΟΥ', 'ΙΟ', 'Ο', 'Ι', 'Ι', 'ΝΞ', 'ΝΓ', 'ΝΓ', 'ΝΙ', 'ΝΤ', 'ΝΔ', 'Ν', 'Ρ', 'ΛΤ', 'ΛΔ', 'Λ', 'Κ', 'Κ', 'Κ', 'Γ', 'ΔΖ', 'Δ', 'Ι', 'ΤΣ', 'Τ', 'Ψ', 'Θ', 'Μ', 'Β', 'Υ', 'Ε', 'ΣΞ', 'Σ', 'ΓΧ', 'Γ', 'Β', 'Ξ', 'Ζ', 'Ο', 'Χ', 'Χ', 'Π', 'Χ', 'Φ', 'Θ', 'Β', 'Ζ', 'Τ', 'Τ', 'Σ', 'Δ', 'Η', 'Ω', "'", '', '', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9'],
['ια', 'α', 'ιε', 'ε', 'ιου', 'ου', 'ιο', 'ο', 'ι', 'ι', 'νξ', 'νγ', 'νγ', 'νι', 'ντ', 'νδ', 'ν', 'ρ', 'λτ', 'λδ', 'λ', 'κ', 'κ', 'κ', 'γ', 'δζ', 'δ', 'ι', 'τσ', 'τ', 'ψ', 'θ', 'μ', 'β', 'υ', 'ε', 'σξ', 'σ', 'γχ', 'γ', 'β', 'ξ', 'ζ', 'ο', 'χ', 'χ', 'π', 'χ', 'φ', 'θ', 'β', 'ζ', 'τ', 'τ', 'σ', 'δ', 'η', 'ω', "'", '', '', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9'],
['Я', 'А', 'Е', 'Э', 'Ю', 'У', 'Ё', 'О', 'И', 'Й', 'НЧ', 'НДЖ', 'НГ', 'НЙ', 'НТ', 'НД', 'Н', 'Р', 'ЛТ', 'ЛД', 'Л', 'К', 'К', 'К', 'ДЖ', 'Ж', 'Д', 'Ы', 'Ц', 'Т', 'ПС', 'С', 'М', 'Б', 'Ю', 'Э', 'Щ', 'Ш', 'ГХ', 'Г', 'В', 'Ч', 'З', 'Ё', 'Х', 'Х', 'П', 'Х', 'Ф', 'Т', 'В', 'З', 'Т', 'Т', 'С', 'Д', 'Е', 'О', "'", 'Ъ', 'Ь', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9'],
['я', 'а', 'е', 'э', 'ю', 'у', 'ё', 'о', 'и', 'й', 'нч', 'ндж', 'нг', 'нй', 'нт', 'нд', 'н', 'р', 'лт', 'лд', 'л', 'к', 'к', 'к', 'дж', 'ж', 'д', 'ы', 'ц', 'т', 'пс', 'с', 'м', 'б', 'ю', 'э', 'щ', 'ш', 'гх', 'г', 'в', 'ч', 'з', 'ё', 'х', 'х', 'п', 'х', 'ф', 'т', 'в', 'з', 'т', 'т', 'с', 'д', 'е', 'о', "'", 'ъ', 'ь', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9'],
['ىا', 'ا', 'ىھ', 'ٲ', 'ىو', 'و', 'ىو', 'و', 'ى', 'ى', 'نچ', 'نج', 'نغ', 'نى', 'نت', 'ند', 'ن', 'ر', 'لت', 'لد', 'ل', 'ق', 'ك', 'ق', 'ج', 'ژ', 'د', 'ى', 'ث', 'ت', 'پس', 'س', 'م', 'ب', 'و', 'ا', 'شچ', 'ش', 'غ', 'غ', 'و', 'چ', 'ز', 'و', 'ح', 'ھ', 'پ', 'خ', 'ف', 'ث', 'و', 'ذ', 'ط', 'ظ', 'ص', 'ض', 'ھ', 'و', 'ع', '', '', '٠', '١', '٢', '٣', '٤', '٥', '٦', '٧', '٨', '٩']
];

// var abece = /^[a-zA-ZÂâÎîİıÇçŞşÜüÖöĞğ]/;
var çmd = ['','','','','','']

function ters(m) {
    return m.split("").reverse().join("");
}

function sesli(h) {
    var sesliler = 'AEIİOÖUÜaeıioöuü';
    return sesliler.includes(h);
}

function hecele(mg) { // bu işlevi yıllar önce Bilgisayar Pazarı
    // dergisinde C diliyle Nazım Koç yayımlamıştı, teşekkür ederiz
    var mç = "";
    var son = mg.length-1;
    mç = hece(mg,0,son);
    var m1 = mç.replace(/- /g," ");
    var m2 = m1.replace(/ -/g," ");
    mç = m2.substr(0,m2.length-1);
    return mç;

    function hece(mg, ii, jj) {
        var kk=0;
        jj = son;
        while (son>=0 && !sesli(mg[son]))	//sesliyi bul
            son--;
        if (son>=0 && sesli(mg[son])) {
            son--;
            if (son>=0 && !sesli(mg[son]))
                son--;
            if (son==0 && !sesli(mg[son]))
                son--;
        }
        ii = son+1;
        son>=0 ? hece(mg,0,jj) :  son=0;
        for(kk=ii; kk<=jj; kk++)
            mç += mg[kk];
        mç += '-';
        return mç;
    }
}

function metDönüş(gm) {
    var tr = 0;     // girdi tarayıcı
    var td = 0;     // tara dil
    var th = 0;     // tara harf
    var huz = 0;    // harf uzunluğu
    var hd = 0;     // hedef dil
    var hdf = 0;    // hedef dil fark
    var hdt = 0;    // hedef dil küçük/büyük
    
    for (tr=0; tr<gm.length; tr += huz) // girdi tara
        if (harfBul())
            for (hd=0; hd<4; hd++) { // hedef dil
                hdf = hd<3? 2*(hd-Math.floor(td/2)) :6-td;
                hdt = td+hdf;
                çmd[hd] += DİZİ[hdt][th];
            }
        else
            for (hd=0; hd<4; hd++)
                çmd[hd] += gm.substr(tr,1); 
    return;
    
    function harfBul () {
        for (td =0; td<7; td++) // dizi-dil
            for (th=0; th<71; th++) // dizi harf
                if (DİZİ[td][th]) { // boş veya null değilse
                    huz = DİZİ[td][th].length; // harf uzunluğu
                    if (DİZİ[td][th] == gm.substr(tr,huz))
                        return true;
            }
        return null;
    }
}

$(document).ready (function() {
	console.log("doc ready");
	$(say).click(function() {
        console.log("doc ready", $('#metin1').val());
		çmd[4] = $('#metin1').val();
        çmd[5] = hecele(çmd[4]);
        metDönüş(çmd[4]);
        document.getElementById("metin2").value = çmd[5];
        document.getElementById("metin3").value = çmd[0];
        document.getElementById("metin4").value = çmd[1];
        document.getElementById("metin5").value = çmd[2];
        document.getElementById("metin6").value = çmd[3];
    });
});
</script>

    <style type="text/css">
		body {
			font-family: 'Open Sans', Verdana;
			background-color: #77CFEE; }
		h1 {
			text-align: center;
			margin: 10px 5px;
			color: #1122AA; }
		textarea {
			display: block;
			width: 1000%;
			min-height: 100px;
			font-family: 'Open Sans', Verdana; }
		#say {
			width: 100%;
			height: 30px;
			font-size: 14px; }
		textarea {
			display: block;
			width: 100%;
			min-height: 90px;
			font-family: 'Open Sans', Verdana; }
		textarea {
			display: block;
			width: 100%;
			min-height: 90px;
			font-family: 'Open Sans', Verdana; }
		textarea {
			display: block;
			width: 100%;
			min-height: 90px;
			font-family: 'Open Sans', Verdana; }
		textarea {
			display: block;
			width: 100%;
			min-height: 90px;
			font-family: 'Open Sans', Verdana; }
		textarea {
			display: block;
			width: 100%;
			min-height: 90px;
			font-family: 'Open Sans', Verdana; }
	</style>
</head>

<body>
	<h1>Harf dönüşümü - transliterasyon</h1>
	<div class="formKutusu">
		<label for="metin1">Girdi</label>
		<textarea id="metin1"></textarea>
		<button id="say">Dönüştür</button>
		<textarea id="metin2"></textarea>
        <textarea id="metin3"></textarea>
        <textarea id="metin4"></textarea>
        <textarea id="metin5"></textarea>
        <textarea id="metin6"></textarea>
        <label>Girdi penceresine Latin/Yunan/Rus/Arap harflerinden - karma da olabilir, girerseniz, aşağıdaki pencerelerde, hecelenmiş cümleyle birlikte  herf harf grubu ayrı pencerelerde çevrilir. İnternetsiz kullanmak istiyorsanız, script kısmındaki jquery adresinden jquery'yi html ile aynı dizine kopyalamalısınız.
        Uygulama aynı zamanda klavye niyetine de kullanılabilir, düzenini bilmediğiniz klavyedense burada çevirtirsiniz. <link </label>
        <a href="https://independent.academia.edu/RecaiAlkan">https://independent.academia.edu/RecaiAlkan</a>
	</div>
</body>
</html>
